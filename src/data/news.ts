export type NewsCategory = "updates" | "market" | "events";

export type NewsItem = {
  id: string;
  slug: string;
  title: string;
  excerpt: string;
  content: string;
  date: string;
  category: NewsCategory;
  tags: string[];
};

export const NEWS_ITEMS: NewsItem[] = [
  {
    id: "1",
    slug: "documents-and-rules-update",
    title: "Обновление раздела «Документы и правила»",
    excerpt: "Мы обновили структуру раздела «Документы и правила»: добавлены ссылки на Условия обслуживания, Политику конфиденциальности и Политику cookies.",
    content: "Раздел «Документы и правила» теперь объединяет ключевые правовые материалы платформы. Вы можете перейти к Условиям обслуживания, Политике конфиденциальности и Политике cookies напрямую из футера или со страницы документов.\n\nРекомендуем ознакомиться с актуальными версиями перед использованием платформы.",
    date: "2026-01-28",
    category: "updates",
    tags: ["документы", "правила", "MVP"],
  },
  {
    id: "2",
    slug: "security-and-access",
    title: "Безопасность и доступ к аккаунту",
    excerpt: "Кратко о том, как мы подходим к безопасности данных и доступа: верификация, сессии, рекомендации для пользователей.",
    content: "Безопасность данных и доступа — приоритет для Betwix. Мы используем стандартные практики защиты сессий и персональных данных. Рекомендуем не передавать учётные данные третьим лицам и выходить из аккаунта при использовании общего устройства.\n\nПри подозрении на несанкционированный доступ обратитесь в поддержку через раздел Контакты.",
    date: "2026-01-25",
    category: "updates",
    tags: ["безопасность", "аккаунт", "MVP"],
  },
  {
    id: "3",
    slug: "listing-and-objects-mvp",
    title: "Листинг объектов в режиме MVP",
    excerpt: "Как устроено размещение объектов на платформе на текущем этапе: требования, процесс, ограничения.",
    content: "В режиме MVP листинг объектов осуществляется по согласованию с командой Betwix. Владельцы и управляющие компании могут подать заявку через соответствующие разделы сайта. Мы проверяем полноту данных и соответствие стандартам отчётности перед публикацией.\n\nДетали процесса и требования описаны в разделе «Управляющим компаниям» и в карточках объектов.",
    date: "2026-01-22",
    category: "updates",
    tags: ["листинг", "объекты", "MVP"],
  },
  {
    id: "4",
    slug: "pilot-and-uk-partners",
    title: "Пилот и партнёрство с управляющими компаниями",
    excerpt: "Betwix продолжает набор управляющих компаний для пилотного этапа. Условия подключения и ожидания от УК.",
    content: "Мы приглашаем управляющие компании к участию в пилотном этапе платформы. УК получают доступ к потоку объектов и единым стандартам отчётности. Требования и форма заявки доступны в разделе «Управляющим компаниям».\n\nПилот позволяет отработать процессы и качество данных перед масштабированием.",
    date: "2026-01-18",
    category: "updates",
    tags: ["пилот", "УК", "партнёры"],
  },
  {
    id: "5",
    slug: "mvp-status-and-roadmap",
    title: "Статус MVP и ближайшие шаги",
    excerpt: "Betwix работает в режиме тестового запуска. Кратко о текущем состоянии продукта и планах.",
    content: "Betwix находится в режиме тестового запуска (MVP). Функционал платформы может дополняться и меняться. Мы фокусируемся на стабильности витрины, учёте прав и прозрачности условий для инвесторов и владельцев.\n\nВажные изменения и новости публикуются в этом разделе. Обратная связь приветствуется через Контакты.",
    date: "2026-01-15",
    category: "updates",
    tags: ["MVP", "продукт", "планы"],
  },
  {
    id: "6",
    slug: "contacts-and-support-hub",
    title: "Раздел «Контакты» и центр поддержки",
    excerpt: "Запущен единый раздел контактов и центр поддержки: как связаться с нами по разным вопросам.",
    content: "На сайте доступны раздел «Контакты» и центр поддержки. В контактах вы найдёте email поддержки, время ответа и отдельные направления для инвесторов, владельцев, УК и партнёрств. Центр поддержки объединяет FAQ и возможность создать обращение.\n\nМы стремимся отвечать в течение 24–48 часов в рабочие дни.",
    date: "2026-01-12",
    category: "updates",
    tags: ["поддержка", "контакты", "MVP"],
  },
  {
    id: "7",
    slug: "income-property-trends",
    title: "Тренды на рынке доходной недвижимости",
    excerpt: "Краткий обзор факторов, влияющих на рынок доходной недвижимости: спрос, регуляторика, цифровизация.",
    content: "Рынок доходной недвижимости остаётся под влиянием спроса на аренду, процентных ставок и регуляторных изменений. Цифровизация учёта прав и прозрачность условий становятся важным фактором для инвесторов. Каждая юрисдикция имеет свои особенности налогообложения и лицензирования.\n\nРекомендуем изучать условия конкретных объектов и правила платформы перед принятием решений.",
    date: "2026-01-20",
    category: "market",
    tags: ["рынок", "тренды", "аренда"],
  },
  {
    id: "8",
    slug: "transparency-and-reporting",
    title: "Прозрачность и отчётность в секторе",
    excerpt: "Как индустрия движется в сторону единых стандартов отчётности и раскрытия данных по объектам.",
    content: "Участники рынка всё чаще ожидают единообразной отчётности по объектам: доходы, расходы, события, статусы. Стандартизация данных упрощает сравнение предложений и снижает информационную асимметрию. Betwix строит платформу с учётом этих ожиданий.\n\nИнформация на нашем сайте носит справочный характер.",
    date: "2026-01-14",
    category: "market",
    tags: ["прозрачность", "отчётность", "стандарты"],
  },
  {
    id: "9",
    slug: "p2p-and-liquidity",
    title: "P2P-платформы и ликвидность долей",
    excerpt: "Роль P2P-площадок в обеспечении вторичного рынка и ликвидности долей в недвижимости.",
    content: "P2P-платформы позволяют инвесторам выставлять доли на продажу и находить контрагентов. Ликвидность зависит от спроса, типа актива и условий платформы. Важно учитывать, что выход из инвестиции может занять время и не гарантирован по желаемой цене.\n\nУсловия сделок на Betwix описаны в правилах платформы и карточках объектов.",
    date: "2026-01-08",
    category: "market",
    tags: ["P2P", "ликвидность", "вторичный рынок"],
  },
  {
    id: "10",
    slug: "role-of-management-companies",
    title: "Роль управляющих компаний в доходной недвижимости",
    excerpt: "УК обеспечивают эксплуатацию, аренду и отчётность. Качество управления влияет на результат для инвесторов.",
    content: "Управляющие компании отвечают за эксплуатацию объектов, работу с арендаторами, сбор арендных платежей и отчётность. Выбор УК и условия договора — важный фактор для инвесторов. Рекомендуем обращать внимание на опыт, стандарты отчётности и SLA.\n\nBetwix не управляет объектами; мы предоставляем платформу для учёта и витрины.",
    date: "2026-01-05",
    category: "market",
    tags: ["УК", "управление", "аренда"],
  },
  {
    id: "11",
    slug: "uk-pilot-open",
    title: "Открыт набор УК на пилот",
    excerpt: "Приглашаем управляющие компании присоединиться к пилотному этапу Betwix. Заявки принимаются через форму на сайте.",
    content: "Мы открываем набор управляющих компаний для участия в пилотном этапе платформы Betwix. Участники пилота получают доступ к объектам и единым стандартам отчётности. Требования и форма заявки доступны в разделе «Управляющим компаниям».\n\nСтарт сотрудничества — после согласования условий и 1–3 пилотных объектов.",
    date: "2026-01-26",
    category: "events",
    tags: ["события", "УК", "пилот"],
  },
  {
    id: "12",
    slug: "owner-test-launch",
    title: "Старт теста с владельцами объектов",
    excerpt: "Запускаем тестовый режим работы с владельцами: размещение объектов и подключение к витрине по согласованию.",
    content: "Betwix запускает тестовый режим работы с владельцами объектов. Владельцы могут подать заявку на размещение через раздел для владельцев или связаться с нами через Контакты. Мы проверяем данные и подключаем объекты к витрине в соответствии с правилами платформы.\n\nТест направлен на отработку процессов листинга и отчётности.",
    date: "2026-01-24",
    category: "events",
    tags: ["события", "владельцы", "тест"],
  },
];

const slugMap = new Map<string, NewsItem>();
NEWS_ITEMS.forEach((item) => slugMap.set(item.slug, item));

export function getNewsBySlug(slug: string): NewsItem | undefined {
  return slugMap.get(slug);
}

export function getNewsByCategory(category: NewsCategory): NewsItem[] {
  return NEWS_ITEMS.filter((item) => item.category === category).sort(
    (a, b) => (b.date > a.date ? 1 : -1)
  );
}

export function getAllTagsForCategory(category: NewsCategory): string[] {
  const set = new Set<string>();
  NEWS_ITEMS.filter((item) => item.category === category).forEach((item) =>
    item.tags.forEach((t) => set.add(t))
  );
  return Array.from(set).sort();
}
